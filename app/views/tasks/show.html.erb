<div class="page-header">
  <h1><%= @task.title %></h1>
</div>

<%= image_tag @task.images %>

<h4>
  <%= @task.description %>
</h4>

<p>
  <strong>Categories:</strong>
  <%= @task.categories %>
</p>

<p>
  <strong>Skills:</strong>
  <%= @task.skills %>
</p>

<div class="btn-group">
  <%= link_to 'Volunteer!', tasks_path, class: "btn btn-primary"%>
</div>
<% if @task.users == current_user %>  <!-- how can I access task.users if user_id is in a join table?-->
  <div class="btn-group">
    <%= link_to 'Edit', edit_task_path(@task), class: "btn btn-default" %>
    <%= link_to 'Back', tasks_path, class: "btn btn-default"  %>
  </div>
<% end %>

<div class="btn-group pull-right">
  <%= link_to like_task_path(@task), method: :put, class: "btn btn-default btn-sm" do %>
    <span class="glyphicon glyphicon-triangle-top"></span>
    Upvote
    <% if @task.get_upvotes.size > 0 %>
      <%= @task.get_upvotes.size %>
    <% end %>
  <% end %>
  <!-- <%= link_to dislike_task_path(@task), method: :put, class: "btn btn-default btn-sm" do %>
    <span class="glyphicon glyphicon-triangle-top"></span>
    Downvote
    <%= @task.get_downvotes.size %>
  <% end %> -->

</div>


<h3 class="comments_title">
  <%= @task.comments.count %> Comments
</h3>

<div id="comments">
  <%= render :partial => @task.comments %>
</div>
<%= simple_form_for [@task, Comment.new] do |f| %>
  <div class="field">
    <%= f.text_area :body, class: "form-control" %>
  </div>
  <br>
  <%= f.submit "Add Comment", class: "btn btn-primary" %>
<% end %>
